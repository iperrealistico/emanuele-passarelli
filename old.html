<!doctype html>
<html lang="it" dir="ltr" data-theme="dark" data-language="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

  <title>Emanuele Passarelli | Artigiano del Ritratto</title>
  <meta name="description" content="Ritratto Unico in grande formato, tecniche antiche e stampe da custodire. Italia nel Grande Formato, biografia e contatti di Emanuele Passarelli.">
  <meta name="robots" content="index,follow,max-image-preview:large">
  <meta name="color-scheme" content="dark light">
  <meta name="theme-color" content="#0b0c0f">

  <link rel="canonical" href="https://emanuelepassarelli.it/">
  <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <!-- Open Graph -->
  <meta property="og:locale" content="it_IT">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Emanuele Passarelli · Artigiano del Ritratto">
  <meta property="og:title" content="Emanuele Passarelli · Artigiano del Ritratto">
  <meta property="og:description" content="Ritratto Unico, Italia nel Grande Formato, biografia e contatti.">
  <meta property="og:url" content="https://emanuelepassarelli.it/">
  <meta property="og:image" content="https://emanuelepassarelli.it/assets/img/og-cover.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta name="twitter:card" content="summary_large_image">

  <!-- hreflang -->
  <link rel="alternate" hreflang="it" href="https://emanuelepassarelli.it/">
  <link rel="alternate" hreflang="en" href="https://emanuelepassarelli.it/?lang=en">
  <link rel="alternate" hreflang="x-default" href="https://emanuelepassarelli.it/">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,300..900&family=Inter:wght@200..900&display=swap" rel="stylesheet">

  <!-- Font Awesome (free) -->
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" referrerpolicy="no-referrer">

  <style>
    :root{ color-scheme: dark light; }
    html, body{ overflow-x:hidden; }
    body{ margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    a{ color:inherit; }
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
    .skip-link{ position:absolute; left:-9999px; top:0; padding:.75rem 1rem; background:#111; border:1px solid #333; border-radius:.75rem; z-index:9999; }
    .skip-link:focus{ left:.75rem; top:.75rem; }
  </style>

  <style>
    :root{
      --font-body: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      --font-display: Fraunces, ui-serif, Georgia, serif;

      --fs-0: clamp(0.94rem, 0.88rem + 0.22vw, 1.02rem);
      --fs-1: clamp(1.08rem, 0.96rem + 0.55vw, 1.28rem);
      --fs-2: clamp(1.42rem, 1.10rem + 1.25vw, 2.00rem);
      --fs-3: clamp(1.95rem, 1.35rem + 2.25vw, 2.95rem);
      --fs-4: clamp(2.60rem, 1.70rem + 3.10vw, 3.90rem);

      --s-1: clamp(0.55rem, 0.44rem + 0.32vw, 0.72rem);
      --s-2: clamp(0.88rem, 0.70rem + 0.55vw, 1.18rem);
      --s-3: clamp(1.20rem, 0.95rem + 0.85vw, 1.70rem);
      --s-4: clamp(1.58rem, 1.15rem + 1.30vw, 2.25rem);
      --s-5: clamp(2.20rem, 1.45rem + 2.15vw, 3.30rem);
      --s-6: clamp(3.10rem, 2.00rem + 3.20vw, 5.10rem);

      --r-1: 12px;
      --r-2: 18px;
      --r-3: 28px;

      --ease-out: cubic-bezier(.16,1,.3,1);
      --ease-soft: cubic-bezier(.2,.8,.2,1);
      --dur-1: 180ms;
      --dur-2: 320ms;
      --dur-3: 720ms;

      --wrap: min(1120px, calc(100% - 2*clamp(1rem, 4vw, 2.2rem)));
      --ph-breath: 2.6s;
    }

    :root[data-theme="dark"]{
      --bg: #0b0c0f;
      --bg-2: #0f1218;
      --surface: rgba(255,255,255,.035);
      --surface-2: rgba(255,255,255,.055);
      --border: rgba(255,255,255,.10);
      --border-2: rgba(255,255,255,.16);
      --text: rgba(255,255,255,.93);
      --muted: rgba(255,255,255,.70);
      --muted-2: rgba(255,255,255,.54);
      --shadow: rgba(0,0,0,.55);
      --ph-1: rgba(255,255,255,.045);
      --ph-2: rgba(255,255,255,.095);
      --ok: #42d17a;
    }

    :root[data-theme="light"]{
      --bg: #ffffff;
      --bg-2: #f6f6f6;
      --surface: rgba(0,0,0,.03);
      --surface-2: rgba(0,0,0,.055);
      --border: rgba(0,0,0,.10);
      --border-2: rgba(0,0,0,.16);
      --text: rgba(0,0,0,.90);
      --muted: rgba(0,0,0,.67);
      --muted-2: rgba(0,0,0,.52);
      --shadow: rgba(0,0,0,.18);
      --ph-1: rgba(0,0,0,.035);
      --ph-2: rgba(0,0,0,.085);
      --ok: #1aa957;
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: var(--font-body);
      font-size: var(--fs-0);
      line-height: 1.58;
      letter-spacing: .015em;
      color: var(--text);
      background: linear-gradient(180deg, var(--bg), var(--bg));
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
      overflow-x: hidden;
    }

    img, video, iframe{ max-width:100%; display:block; }
    a{ color: inherit; text-decoration: none; }
    button{ font-family: inherit; color: inherit; }
    .wrap{ width: var(--wrap); margin-inline:auto; }

    body::before{
      content:"";
      position: fixed;
      inset: 0;
      pointer-events:none;
      opacity: .06;
      mix-blend-mode: overlay;
      background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,.14) 1px, transparent 0);
      background-size: 3px 3px;
    }

    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto; }
      *, *::before, *::after{ animation-duration: 1ms !important; animation-iteration-count: 1 !important; transition-duration: 1ms !important; }
    }

    :root[data-language="it"] [lang="en"]{ display:none !important; }
    :root[data-language="en"] [lang="it"]{ display:none !important; }

    .kicker{ margin: 0 0 var(--s-2); color: var(--muted); letter-spacing: .10em; text-transform: uppercase; font-size: .86em; }
    .h2{ font-family: var(--font-display); font-size: var(--fs-3); line-height: 1.08; letter-spacing: .03em; margin: 0 0 var(--s-2); }
    .h3{ font-family: var(--font-display); font-size: var(--fs-2); line-height: 1.12; letter-spacing: .03em; margin: 0 0 var(--s-1); }
    .lead{ font-size: var(--fs-1); color: var(--muted); margin: 0 0 var(--s-3); max-width: 70ch; }
    .p{ margin: 0 0 var(--s-2); color: var(--muted); max-width: 78ch; }
    .micro{ font-size: .92em; color: var(--muted-2); margin: 0; letter-spacing: .06em; text-transform: uppercase; }

    .bleed{ width: 100vw; margin-left: calc(50% - 50vw); margin-right: calc(50% - 50vw); }

    /* Header (fixed always on top) */
    .site-header{
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 70;
      backdrop-filter: blur(14px);
      background: color-mix(in oklab, var(--bg) 85%, transparent);
      border-bottom: 1px solid color-mix(in oklab, var(--border) 80%, transparent);
    }
    .site-header.is-scrolled{ border-bottom-color: var(--border-2); }

    .header__wrap{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: var(--s-2);
      padding: .95rem 0;
      min-width: 0;
    }

    .brand{ display:flex; align-items:center; min-width:0; flex: 1 1 auto; }
    .brand__name{
      display:block;
      font-weight: 800;
      letter-spacing: .10em;
      text-transform: uppercase;
      font-size: .92em;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .brand__tagline{
      display:block;
      font-size: .92em;
      color: var(--muted);
      margin-top: .1rem;
      letter-spacing: .06em;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .nav{ display:flex; gap: clamp(.55rem, 1.2vw, 1.05rem); align-items:center; }
    .nav__link{
      font-size: .86em;
      color: var(--muted);
      padding: .55rem .60rem;
      border-radius: 12px;
      letter-spacing: .12em;
      text-transform: uppercase;
      transition: color var(--dur-2) var(--ease-out), background var(--dur-2) var(--ease-out);
      white-space: nowrap;
    }
    .nav__link:hover{ color: var(--text); background: color-mix(in oklab, var(--surface) 92%, transparent); }
    .nav__link i{ margin-right: .45rem; opacity: .9; }

    .controls{ display:flex; align-items:center; gap: .6rem; flex: 0 0 auto; }
    .segmented{
      display:flex;
      align-items:center;
      padding: 4px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: color-mix(in oklab, var(--surface) 92%, transparent);
    }
    .segmented__btn{
      appearance:none;
      border:0;
      background: transparent;
      color: var(--muted);
      padding: .40rem .70rem;
      border-radius: 999px;
      font-weight: 800;
      letter-spacing: .12em;
      text-transform: uppercase;
      cursor:pointer;
      transition: background var(--dur-2) var(--ease-out), color var(--dur-2) var(--ease-out);
    }
    .segmented__btn.is-active{ color: var(--text); background: color-mix(in oklab, var(--surface-2) 85%, transparent); }

    .icon-btn{
      appearance:none;
      border: 1px solid var(--border);
      background: color-mix(in oklab, var(--surface) 92%, transparent);
      color: var(--text);
      width: 40px;
      height: 40px;
      border-radius: 14px;
      display:grid;
      place-items:center;
      cursor:pointer;
      transition: transform var(--dur-1) var(--ease-out), border-color var(--dur-2) var(--ease-out), background var(--dur-2) var(--ease-out);
      flex: 0 0 auto;
    }
    .icon-btn:hover{ transform: translateY(-1px); border-color: var(--border-2); }
    .icon-btn:active{ transform: translateY(0); }
    .icon-btn.is-active{ border-color: color-mix(in oklab, var(--text) 60%, transparent); }

    .nav-toggle{ display:none; }
    @media (max-width: 920px){ .nav{ display:none; } .nav-toggle{ display:grid; } }
    @media (max-width: 420px){
      .brand__tagline{ display:none; }
      .icon-btn{ width:38px; height:38px; border-radius: 14px; }
      .segmented__btn{ padding: .34rem .55rem; }
    }

    .section{ padding: var(--s-6) 0; }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:.55rem;
      padding: .95rem 1.25rem;
      border-radius: 999px;
      border: 1px solid var(--border);
      font-weight: 900;
      letter-spacing: .14em;
      text-transform: uppercase;
      cursor:pointer;
      transition: transform var(--dur-1) var(--ease-out), border-color var(--dur-2) var(--ease-out), background var(--dur-2) var(--ease-out), opacity var(--dur-2) var(--ease-out);
      font-size: .86em;
      line-height: 1;
      white-space: nowrap;
      color: var(--text);
      background: transparent;
    }
    .btn--primary{ background: color-mix(in oklab, var(--surface-2) 85%, transparent); }
    .btn--ghost{ background: transparent; }
    .btn:hover{ transform: translateY(-1px); border-color: var(--border-2); }
    .btn:active{ transform: translateY(0); }
    .btn i{ opacity: .9; font-size: 1em; }

    /* Hero */
    .hero{
      padding: clamp(2.2rem, 2vw + 1.3rem, 3.6rem) 0 var(--s-6);
      position: relative; /* anchor for absolute scroll cue */
    }
    .hero__wrap{ display:grid; grid-template-columns: 1.12fr .88fr; gap: var(--s-5); align-items: center; }
    .hero__title{ font-family: var(--font-display); font-size: var(--fs-4); line-height: 1.02; letter-spacing: .02em; margin: 0 0 var(--s-3); }
    .hero__titleLine{ display:block; }
    .hero__titleLine--muted{ color: color-mix(in oklab, var(--text) 70%, transparent); }
    .hero__cta{ display:flex; flex-wrap: wrap; gap: .75rem; margin-bottom: var(--s-4); align-items: center; }

    @media (max-width: 980px){
      .hero__wrap{ grid-template-columns: 1fr; }
      .hero__media{ order: -1; }
    }

    /* Scroll cue centered to viewport (absolute, positioned by JS) */
    .scrollCueDock{
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: fit-content;
      z-index: 5;
      pointer-events: none;
    }
    .scrollCue{
      display:flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: .55rem;
      width: fit-content;
      color: var(--muted-2);
      letter-spacing: .14em;
      text-transform: uppercase;
      font-size: .78em;
      text-align: center;
      pointer-events: none;
    }
    .scrollCue__text{ text-align:center; }
    .scrollCue__arrow{
      width: 46px;
      height: 46px;
      border: 1px solid var(--border);
      border-radius: 999px;
      display:grid;
      place-items:center;
      background: color-mix(in oklab, var(--surface) 92%, transparent);
      position: relative;
      overflow: hidden;
      pointer-events: none;
    }
    .scrollCue__arrow i{
      animation: arrowDrop 1.45s var(--ease-soft) infinite;
      opacity: .9;
    }
    @keyframes arrowDrop{
      0%{ transform: translateY(-2px); opacity: .55; }
      45%{ transform: translateY(6px); opacity: 1; }
      100%{ transform: translateY(-2px); opacity: .55; }
    }

    /* Video portal */
    .videoPortal{ display:grid; gap: .75rem; }
    .videoPortal__frame{
      position: relative;
      border-radius: var(--r-3);
      overflow: hidden;
      aspect-ratio: 16/10;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, var(--bg-2), var(--bg));
      box-shadow: 0 28px 110px var(--shadow);
      isolation: isolate;

      /* strong on-load entrance */
      opacity: 0;
      transform: translateY(64px);
      filter: blur(2px);
      transition: opacity 980ms var(--ease-out), transform 980ms var(--ease-out), filter 980ms var(--ease-out);
      will-change: transform, opacity, filter;
    }
    .is-video-enter .videoPortal__frame{
      opacity: 1;
      transform: translateY(0);
      filter: blur(0);
    }

    .mediaPlaceholder{
      position:absolute;
      inset:0;
      z-index: 1;
      background:
        radial-gradient(140% 120% at 18% 10%, var(--ph-2), transparent 60%),
        radial-gradient(120% 120% at 82% 85%, var(--ph-1), transparent 65%),
        linear-gradient(180deg, var(--bg-2), var(--bg));
      animation: phBreath var(--ph-breath) var(--ease-soft) infinite;
    }
    @keyframes phBreath{
      0%{ filter: contrast(1) brightness(1); opacity: .70; }
      50%{ filter: contrast(1.05) brightness(1.04); opacity: .95; }
      100%{ filter: contrast(1) brightness(1); opacity: .70; }
    }

    .videoPortal__thumb{
      position:absolute;
      inset:0;
      z-index: 2;
      width:100%;
      height:100%;
      object-fit: cover;
      object-position: center;
      opacity: 0;
      transform: scale(1.01);
      transition: opacity var(--dur-3) var(--ease-out), transform var(--dur-3) var(--ease-out);
      filter: contrast(1.02) saturate(0.98);
      pointer-events: none;
    }
    .videoPortal.is-thumb-loaded .videoPortal__thumb{ opacity: 1; transform: scale(1); }

    .videoPortal__badge{
      position:absolute;
      left: 18px;
      bottom: 16px;
      padding: .45rem .75rem;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: color-mix(in oklab, var(--surface) 92%, transparent);
      font-weight: 900;
      letter-spacing: .14em;
      text-transform: uppercase;
      font-size: .80em;
      z-index: 6;
      display:inline-flex;
      align-items:center;
      gap:.5rem;
      transition: transform var(--dur-2) var(--ease-out), border-color var(--dur-2) var(--ease-out);
      pointer-events: auto;
    }
    .videoPortal__badge:hover{ transform: translateY(-1px); border-color: var(--border-2); }

    .videoPortal__mount{
      position:absolute;
      inset:0;
      z-index: 3;
      opacity: 1;
      transform: translateY(0);
      transition: opacity var(--dur-3) var(--ease-out), transform var(--dur-3) var(--ease-out);
      will-change: transform, opacity;
      overflow: hidden;
    }
    .videoPortal__mount iframe{
      position:absolute;
      top: 50%;
      left: 50%;
      width: 100%;
      height: 100%;
      transform: translate(-50%,-50%);
      transform-origin: center;
      border:0;
      pointer-events: none;
    }

    .videoPortal__cover{
      position:absolute;
      inset:-8%;
      transform: scale(1.18);
      transform-origin: center;
    }
    .videoPortal__cover iframe{
      width: 100%;
      height: 100%;
      position:absolute;
      inset:0;
      transform: none;
    }
    @media (max-width: 520px){
      .videoPortal__cover{ transform: scale(1.22); }
    }

    .videoPortal__hoverMask{
      position:absolute;
      inset:0;
      z-index: 5;
      opacity: 0;
      transition: opacity var(--dur-2) var(--ease-out);
      pointer-events: none;
      background: linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.26));
    }
    .videoPortal:hover .videoPortal__hoverMask{ opacity: 1; }
    .videoPortal:hover .videoPortal__thumb{ opacity: 1; }

    /* Feature cards */
    .cards{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--s-3);
      margin-top: var(--s-4);
      margin-bottom: var(--s-6);
    }
    .card{
      border: 1px solid var(--border);
      border-radius: var(--r-3);
      padding: var(--s-4);
      background: color-mix(in oklab, var(--surface) 92%, transparent);
      box-shadow: 0 22px 90px var(--shadow);
    }
    .card__title{
      margin: 0 0 .45rem;
      font-weight: 950;
      letter-spacing: .14em;
      text-transform: uppercase;
      font-size: .92em;
      color: var(--text);
      display:flex;
      align-items:center;
      gap:.6rem;
    }
    .card__text{ margin: 0; color: var(--muted); max-width: 66ch; }
    @media (max-width: 860px){ .cards{ grid-template-columns: 1fr; } }

    /* Fullwidth galleries */
    .fullMedia{
      position: relative;
      border-top: 1px solid color-mix(in oklab, var(--border) 80%, transparent);
      border-bottom: 1px solid color-mix(in oklab, var(--border) 80%, transparent);
      background: linear-gradient(180deg, var(--bg-2), var(--bg));
      margin-top: var(--s-4);
    }
    .fullMedia__wrap{
      width: var(--wrap);
      margin-inline: auto;
      padding: var(--s-5) 0;
      display:grid;
      gap: var(--s-3);
    }
    .fullMedia--spaced{ margin-top: var(--s-6); }

    .media{
      position: relative;
      border-radius: var(--r-3);
      overflow: hidden;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, var(--bg-2), var(--bg));
      box-shadow: 0 28px 110px var(--shadow);
    }
    .media--wide{ aspect-ratio: 21/10; }
    .media--cinema{ aspect-ratio: 16/9; }
    .media--portrait{ aspect-ratio: 3/4; }

    .media__ph{
      position:absolute;
      inset:0;
      background:
        radial-gradient(140% 120% at 18% 10%, var(--ph-2), transparent 60%),
        radial-gradient(120% 120% at 82% 85%, var(--ph-1), transparent 65%),
        linear-gradient(180deg, var(--bg-2), var(--bg));
      animation: phBreath var(--ph-breath) var(--ease-soft) infinite;
    }
    .media__img{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit: cover;
      object-position: center;
      opacity: 0;
      transform: scale(1.01);
      transition: opacity var(--dur-3) var(--ease-out), transform var(--dur-3) var(--ease-out);
    }
    .is-loaded > .media__img{ opacity: 1; transform: scale(1); }
    .has-error .media__img{ display:none; }

    /* Contact */
    .contactMini{
      display:flex;
      flex-wrap: wrap;
      align-items:center;
      justify-content: space-between;
      gap: var(--s-3);
      border: 1px solid var(--border);
      border-radius: var(--r-3);
      padding: var(--s-4);
      background: color-mix(in oklab, var(--surface) 92%, transparent);
      box-shadow: 0 26px 120px var(--shadow);
    }
    .contactMini__left{ display:grid; gap: .35rem; }
    .contactMini__right{ display:flex; flex-wrap: wrap; gap: .75rem; align-items:center; }

    .btnEmail{ position: relative; }
    .btnEmail__shell{ display:inline-flex; align-items:center; gap:.55rem; white-space: nowrap; }
    .btnEmail__email{
      display:none;
      letter-spacing: .04em;
      text-transform: none;
      font-weight: 900;
    }
    .btnEmail.is-done .btnEmail__labelText{ display:none; }
    .btnEmail.is-done .btnEmail__email{ display:inline; }

    .btnBadge{
      position: absolute;
      left: 50%;
      top: -10px;
      transform: translateX(-50%) translateY(-8px);
      background: color-mix(in oklab, var(--bg) 82%, transparent);
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: .45rem .70rem;
      box-shadow: 0 22px 80px var(--shadow);
      display:flex;
      align-items:center;
      gap:.45rem;
      opacity: 0;
      pointer-events:none;
      transition: opacity var(--dur-2) var(--ease-out), transform var(--dur-2) var(--ease-out);
      z-index: 10;
      color: var(--text);
      letter-spacing: .10em;
      text-transform: uppercase;
      font-weight: 950;
      font-size: .72em;
      white-space: nowrap;
    }
    .btnBadge i{ color: var(--ok); }
    .btnBadge.is-show{
      opacity: 1;
      transform: translateX(-50%) translateY(-16px);
    }

    /* Footer */
    .site-footer{
      padding: var(--s-4) 0 var(--s-5);
      border-top: 1px solid color-mix(in oklab, var(--border) 80%, transparent);
      background: color-mix(in oklab, var(--bg) 92%, transparent);
    }
    .footer__wrap{ display:flex; justify-content: space-between; gap: var(--s-2); align-items:center; flex-wrap: wrap; }
    .footer__links{ display:flex; gap: .9rem; }
    .footer__links a{ color: var(--muted); letter-spacing: .12em; text-transform: uppercase; font-size: .82em; }
    .footer__links a:hover{ color: var(--text); }

    /* Scroll reveal */
    .reveal{ opacity: 0; transform: translateY(14px); filter: blur(2px); transition: opacity var(--dur-3) var(--ease-out), transform var(--dur-3) var(--ease-out), filter var(--dur-3) var(--ease-out); }
    .reveal.is-inview{ opacity: 1; transform: translateY(0); filter: blur(0); }

    /* Mobile drawer */
    .mobileNav{
      position: fixed;
      inset: 0;
      z-index: 90;
      pointer-events: none;
      opacity: 0;
      transition: opacity var(--dur-2) var(--ease-out);
    }
    .mobileNav.is-open{ opacity: 1; pointer-events: auto; }
    .mobileNav__backdrop{ position:absolute; inset:0; background: rgba(0,0,0,.55); }
    .mobileNav__panel{
      position:absolute;
      top: 0; right: 0;
      height: 100%;
      width: min(420px, 88vw);
      background: var(--bg);
      border-left: 1px solid var(--border);
      transform: translateX(102%);
      transition: transform var(--dur-3) var(--ease-out);
      padding: 1rem;
      display:flex;
      flex-direction: column;
      gap: 1.2rem;
      overflow: auto;
      -webkit-overflow-scrolling: touch;
    }
    .mobileNav.is-open .mobileNav__panel{ transform: translateX(0); }

    .mobileNav__top{ display:flex; align-items:center; justify-content: space-between; gap: .75rem; }
    .mobileNav__icons{ display:flex; gap: .5rem; align-items:center; flex-wrap: wrap; }
    .mobileNav__links{ display:grid; gap: .5rem; }
    .mobileNav__links a{
      padding: .9rem 1rem;
      border: 1px solid var(--border);
      border-radius: 16px;
      letter-spacing: .12em;
      text-transform: uppercase;
      color: var(--text);
      background: color-mix(in oklab, var(--surface) 92%, transparent);
      white-space: nowrap;
    }

    :focus-visible{ outline: 2px solid color-mix(in oklab, var(--text) 55%, transparent); outline-offset: 3px; }
    *{ word-wrap: break-word; }
  </style>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "WebSite",
        "@id": "https://emanuelepassarelli.it/#website",
        "url": "https://emanuelepassarelli.it/",
        "name": "Emanuele Passarelli · Artigiano del Ritratto",
        "inLanguage": ["it-IT","en"]
      },
      {
        "@type": "Person",
        "@id": "https://emanuelepassarelli.it/#person",
        "name": "Emanuele Passarelli",
        "jobTitle": [
          { "@value": "Fotografo", "@language": "it" },
          { "@value": "Portrait Photographer", "@language": "en" }
        ],
        "url": "https://emanuelepassarelli.it/",
        "email": "mailto:contact@emanuelepassarelli.it",
        "sameAs": ["https://instagram.com/emanuelepassarelli"],
        "knowsAbout": ["ritratto", "fotografia analogica", "banco ottico", "grande formato", "tecniche antiche"]
      },
      {
        "@type": "WebPage",
        "@id": "https://emanuelepassarelli.it/#webpage",
        "url": "https://emanuelepassarelli.it/",
        "name": "Emanuele Passarelli | Artigiano del Ritratto",
        "isPartOf": { "@id": "https://emanuelepassarelli.it/#website" },
        "about": { "@id": "https://emanuelepassarelli.it/#person" },
        "inLanguage": ["it-IT","en"]
      }
    ]
  }
  </script>
</head>

<body>
  <a class="skip-link" href="#main">Vai al contenuto</a>

  <header class="site-header" data-component="header">
    <div class="wrap header__wrap">
      <a class="brand" href="#top" aria-label="Torna all'inizio">
        <span class="brand__text">
          <span class="brand__name">Emanuele Passarelli</span>
          <span class="brand__tagline">
            <span lang="it">Artigiano del Ritratto</span>
            <span lang="en">Portrait Artisan</span>
          </span>
        </span>
      </a>

      <nav class="nav" aria-label="Navigazione principale">
        <a class="nav__link" href="#ritratto"><i class="fa-regular fa-compass"></i><span lang="it">Scopri</span><span lang="en">Discover</span></a>
        <a class="nav__link" href="#contatti"><i class="fa-regular fa-paper-plane"></i><span lang="it">Contatti</span><span lang="en">Contact</span></a>
      </nav>

      <div class="controls" aria-label="Controlli sito">
        <div class="segmented" role="group" aria-label="Lingua">
          <button class="segmented__btn is-active" type="button" data-action="set-language" data-language="it" aria-pressed="true">IT</button>
          <button class="segmented__btn" type="button" data-action="set-language" data-language="en" aria-pressed="false">EN</button>
        </div>

        <button class="icon-btn" type="button" data-action="toggle-theme" aria-label="Cambia tema (dark/light)" title="Tema">
          <i class="fa-regular fa-sun"></i>
        </button>

        <button class="icon-btn nav-toggle" type="button" data-action="toggle-nav" aria-label="Apri menu" aria-expanded="false">
          <i class="fa-solid fa-bars"></i>
        </button>
      </div>
    </div>
  </header>

  <div class="mobileNav" data-component="mobile-nav" aria-hidden="true">
    <div class="mobileNav__backdrop" data-action="close-nav" aria-hidden="true"></div>

    <aside class="mobileNav__panel" role="dialog" aria-modal="true" aria-label="Menu">
      <div class="mobileNav__top">
        <div class="mobileNav__icons" aria-label="Controlli rapidi">
          <button class="icon-btn is-active" type="button" data-action="set-language" data-language="it" aria-pressed="true" aria-label="Italiano" title="Italiano">IT</button>
          <button class="icon-btn" type="button" data-action="set-language" data-language="en" aria-pressed="false" aria-label="English" title="English">EN</button>
          <button class="icon-btn" type="button" data-action="toggle-theme" aria-label="Cambia tema (dark/light)" title="Tema">
            <i class="fa-regular fa-sun"></i>
          </button>
        </div>

        <button class="icon-btn" type="button" data-action="close-nav" aria-label="Chiudi menu" title="Chiudi">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>

      <nav class="mobileNav__links" aria-label="Navigazione mobile">
        <a href="#ritratto" data-action="close-nav"><i class="fa-regular fa-compass"></i> <span lang="it">Scopri</span><span lang="en">Discover</span></a>
        <a href="#contatti" data-action="close-nav"><i class="fa-regular fa-paper-plane"></i> <span lang="it">Contatti</span><span lang="en">Contact</span></a>
        <a href="#bio" data-action="close-nav"><i class="fa-regular fa-file-lines"></i> Bio</a>
      </nav>
    </aside>
  </div>

  <main id="main">
    <section id="top" class="hero" aria-label="Intro" data-hero>
      <div class="wrap hero__wrap">
        <div class="hero__copy reveal">
          <p class="kicker">
            <span lang="it">Ritratti e progetti</span>
            <span lang="en">Portraits and projects</span>
          </p>
          <h1 class="hero__title">
            <span class="hero__titleLine">Emanuele Passarelli</span>
            <span class="hero__titleLine hero__titleLine--muted">
              <span lang="it">Artigiano del Ritratto</span>
              <span lang="en">Portrait Artisan</span>
            </span>
          </h1>
          <p class="lead">
            <span lang="it">Ritratti in grande formato, tecniche antiche e stampe da custodire. Una sessione fotografica pensata per lasciare una traccia di te.</span>
            <span lang="en">Large-format portraits, historic techniques, and prints to keep. A photographic session designed to leave a trace of you.</span>
          </p>

          <div class="hero__cta" data-hero-cta>
            <a class="btn btn--primary" href="#ritratto">
              <i class="fa-regular fa-images"></i>
              <span lang="it">Scopri i ritratti</span>
              <span lang="en">Explore portraits</span>
            </a>
            <a class="btn btn--ghost" href="#contatti">
              <i class="fa-regular fa-paper-plane"></i>
              <span lang="it">Contatti</span>
              <span lang="en">Contact</span>
            </a>
          </div>
        </div>

        <div class="hero__media reveal">
          <div class="videoPortal" data-video="youtube" data-youtube-id="nSSJRcRtqpo">
            <div class="videoPortal__frame" aria-label="Video presentazione progetto">
              <div class="mediaPlaceholder" aria-hidden="true"></div>
              <img class="videoPortal__thumb" alt="Italia nel Grande Formato - Presentazione Progetto (thumbnail)" data-thumb>
              <div class="videoPortal__hoverMask" aria-hidden="true"></div>

              <a class="videoPortal__badge" href="https://youtu.be/nSSJRcRtqpo?si=5NLpwZrZA5981h1J" target="_blank" rel="noopener" aria-label="Apri il video su YouTube">
                <i class="fa-regular fa-circle-play"></i>
                <span lang="it">Presentazione progetto</span>
                <span lang="en">Project presentation</span>
              </a>

              <div class="videoPortal__mount" data-video-mount></div>
            </div>
          </div>
          <p class="micro" style="margin-top:.75rem;">
            <span lang="it">Italia nel Grande Formato - Presentazione Progetto</span>
            <span lang="en">Italy in Large Format - Project Presentation</span>
          </p>
        </div>
      </div>

      <!-- Viewport-centered scroll cue, positioned by JS to sit under CTA without breaking flow -->
      <div class="scrollCueDock" data-scrollcue aria-hidden="true">
        <div class="scrollCue">
          <div class="scrollCue__text">
            <span lang="it">Scopri</span><span lang="en">Discover</span>
          </div>
          <div class="scrollCue__arrow"><i class="fa-solid fa-arrow-down"></i></div>
        </div>
      </div>
    </section>

    <section id="ritratto" class="section" aria-label="Ritratto Unico">
      <div class="wrap">
        <div class="reveal">
          <p class="kicker">
            <span lang="it">Diventa un'opera d'arte</span>
            <span lang="en">Become a work of art</span>
          </p>
          <h2 class="h2">
            <span lang="it">Ritratto Unico</span>
            <span lang="en">Unique Portrait</span>
          </h2>
          <p class="p">
            <span lang="it">Avere un proprio ritratto stampato è la testimonianza di chi siamo. Ti verrà dedicata una sessione fotografica per poter lasciare una traccia di te.</span>
            <span lang="en">Having your portrait printed is a testimony of who we are. A dedicated session is designed to leave a trace of you.</span>
          </p>
        </div>

        <div class="cards" aria-label="Punti chiave Ritratto Unico">
          <article class="card reveal">
            <h3 class="card__title">
              <i class="fa-solid fa-camera-retro"></i>
              <span lang="it">Tecniche antiche</span><span lang="en">Historic techniques</span>
            </h3>
            <p class="card__text">
              <span lang="it">Avrai modo di essere scattato con delle tecniche fotografiche antiche tramite un banco ottico: la luce e l’argento scriveranno su supporti di alluminio, vetro e pellicole.</span>
              <span lang="en">Shot with historic techniques using a large-format camera: light and silver will write on aluminum, glass, and film.</span>
            </p>
          </article>

          <article class="card reveal">
            <h3 class="card__title">
              <i class="fa-regular fa-map"></i>
              <span lang="it">Italia nel Grande Formato</span><span lang="en">Italy in Large Format</span>
            </h3>
            <p class="card__text">
              <span lang="it">Hai la possibilità di far parte di una immensa raccolta di ritratti Passarelliani che negli anni è diventata essa stessa un’opera unica.</span>
              <span lang="en">You can become part of a vast collection of Passarellian portraits, grown into a single unique work over time.</span>
            </p>
          </article>

          <article class="card reveal">
            <h3 class="card__title">
              <i class="fa-regular fa-image"></i>
              <span lang="it">Opera finita</span><span lang="en">Finished piece</span>
            </h3>
            <p class="card__text">
              <span lang="it">Alla fine della sessione fotografica riceverai un tuo ritratto stampato da custodire, per poterlo tramandare alle tue future generazioni.</span>
              <span lang="en">At the end of the session you will receive a printed portrait to keep and pass down to future generations.</span>
            </p>
          </article>

          <article class="card reveal">
            <h3 class="card__title">
              <i class="fa-regular fa-clock"></i>
              <span lang="it">Tempo e presenza</span><span lang="en">Time and presence</span>
            </h3>
            <p class="card__text">
              <span lang="it">Poche scelte, tutte intenzionali: tempo, ascolto e precisione, per un ritratto che resta.</span>
              <span lang="en">Few choices, all intentional: time, listening, and precision, for a portrait that lasts.</span>
            </p>
          </article>
        </div>
      </div>

      <div class="fullMedia bleed fullMedia--spaced" aria-label="Gallery Ritratto Unico (estratti)">
        <div class="fullMedia__wrap">
          <figure class="media media--wide reveal" data-component="smart-media">
            <div class="media__ph" aria-hidden="true"></div>
            <img class="media__img" data-src="/assets/img/ritratto-unico/01.jpg" alt="Ritratto Unico, estratto 01">
          </figure>

          <div class="fullMedia__wrap" style="padding:0; display:grid; grid-template-columns: 1fr 1fr; gap: var(--s-3);">
            <figure class="media media--portrait reveal" data-component="smart-media">
              <div class="media__ph" aria-hidden="true"></div>
              <img class="media__img" data-src="/assets/img/ritratto-unico/02.jpg" alt="Ritratto Unico, estratto 02">
            </figure>
            <figure class="media media--portrait reveal" data-component="smart-media">
              <div class="media__ph" aria-hidden="true"></div>
              <img class="media__img" data-src="/assets/img/ritratto-unico/03.jpg" alt="Ritratto Unico, estratto 03">
            </figure>
          </div>
        </div>
      </div>
    </section>

    <section id="italia" class="section" aria-label="Italia nel Grande Formato">
      <div class="wrap">
        <div class="reveal">
          <p class="kicker">
            <span lang="it">Un’enciclopedia umana</span>
            <span lang="en">A human encyclopedia</span>
          </p>
          <h2 class="h2">
            <span lang="it">Italia nel Grande Formato</span>
            <span lang="en">Italy in Large Format</span>
          </h2>

          <p class="p">
            <span lang="it">
              Italia nel Grande Formato è un’enciclopedia umana, in cui ogni persona è descritta unicamente dal suo ritratto.
              È un progetto itinerante che ha coinvolto tutte le regioni italiane, dal sud al nord, dalle maggiori città ai più piccoli paesini,
              raccogliendo più di cento ritratti.
            </span>
            <span lang="en">
              Italy in Large Format is a human encyclopedia, where each person is described only through their portrait.
              It is an itinerant project that has crossed every Italian region, from south to north, from major cities to the smallest towns,
              collecting more than one hundred portraits.
            </span>
          </p>

          <p class="p" style="margin-bottom: var(--s-5);">
            <span lang="it">
              L’Italia viene raccontata attraverso questa raccolta di ritratti, in un viaggio ideale fra volti e paesaggi che costituiscono la principale ricchezza di questo Paese.
              Tutti i ritratti sono stati realizzati con un banco ottico e costituiscono nel loro insieme un’opera unica.
            </span>
            <span lang="en">
              Italy is told through this collection of portraits, an ideal journey between faces and landscapes that form the country’s greatest wealth.
              All portraits are made with a large-format camera and together become a single unique work.
            </span>
          </p>
        </div>
      </div>

      <div class="fullMedia bleed fullMedia--spaced" aria-label="Gallery Italia nel Grande Formato (estratti)">
        <div class="fullMedia__wrap">
          <figure class="media media--cinema reveal" data-component="smart-media">
            <div class="media__ph" aria-hidden="true"></div>
            <img class="media__img" data-src="/assets/img/italia-grande-formato/01.jpg" alt="Italia nel Grande Formato, estratto 01">
          </figure>

          <div class="fullMedia__wrap" style="padding:0; display:grid; grid-template-columns: 1fr 1fr; gap: var(--s-3);">
            <figure class="media media--portrait reveal" data-component="smart-media">
              <div class="media__ph" aria-hidden="true"></div>
              <img class="media__img" data-src="/assets/img/italia-grande-formato/02.jpg" alt="Italia nel Grande Formato, estratto 02">
            </figure>
            <figure class="media media--portrait reveal" data-component="smart-media">
              <div class="media__ph" aria-hidden="true"></div>
              <img class="media__img" data-src="/assets/img/italia-grande-formato/03.jpg" alt="Italia nel Grande Formato, estratto 03">
            </figure>
          </div>
        </div>
      </div>
    </section>

    <section id="bio" class="section" aria-label="Bio">
      <div class="wrap" style="display:grid; grid-template-columns: 1.08fr .92fr; gap: var(--s-5); align-items:start;">
        <div class="reveal">
          <p class="kicker"><span lang="it">Biografia</span><span lang="en">Biography</span></p>
          <h2 class="h2">Emanuele Passarelli</h2>

          <p class="p">
            <span lang="it">Inizio il mio percorso con la fotografia da autodidatta, all’età di ventun anni.</span>
            <span lang="en">I began my path in photography as a self-taught author, at the age of twenty-one.</span>
          </p>

          <p class="p">
            <span lang="it">
              Esordisco con “Solitudo”, nel 2014, progetto fotografico composto da una serie di autoritratti che raccontano le fasi più significative della mia adolescenza.
              Nel 2016 con “Night Tour” nascono quelli che verranno chiamati “Ritratti Passarelliani”.
              L’idea di trasportare i miei soggetti immersi nel buio in scenari urbani, illuminati solo dalle luci della città in chiave cinematografica,
              mi ha fatto premiare con numerosi articoli dedicati e interviste personali.
              Pochi anni dopo alcuni di questi ritratti diventeranno opere esposte in più città tra Italia e Cina.
            </span>
            <span lang="en">
              I debuted with “Solitudo” in 2014, a project made of self-portraits.
              In 2016, with “Night Tour”, the “Passarellian Portraits” was born.
              A cinematic approach to urban darkness and city light led to awards, articles and interviews.
              Later, some portraits became works exhibited in several cities across Italy and China.
            </span>
          </p>

          <p class="p">
            <span lang="it">
              Nel 2017 dopo aver partecipato al workshop “Oltre il ritratto” di Mustafa Sabbagh, grande fonte di ispirazione,
              realizzo il mio secondo progetto “Mattatoio”, un reportage fotografico che attraverso alcuni ritratti notturni su strada,
              racconta la vita delle prostitute transessuali della periferia romana, con l’intenzione di ridare un’anima e una dignità a queste persone,
              che vengono dalla società “spersonificate” e ridotte allo status di scarto sociale.
            </span>
            <span lang="en">
              In 2017, after Mustafa Sabbagh’s workshop “Beyond Portrait”, I created “Mattatoio”, a reportage telling the lives of transgender sex workers on the outskirts of Rome.
            </span>
          </p>

          <p class="p">
            <span lang="it">Nello stesso anno inizio a maturare un interesse sempre più forte nei confronti della fotografia analogica e decido dunque di proseguire con gli studi in questo campo.</span>
            <span lang="en">That same year I developed a growing interest in analog photography and continued studying it.</span>
          </p>

          <p class="p">
            <span lang="it">
              Nel 2018 lancio “Italia nel Grande Formato”, un progetto fotografico che mi ha portato a far riscoprire agli italiani,
              tramite canali social e interviste cartacee e televisive, l’importanza di avere almeno un proprio ritratto stampato che avesse il compito di testimoniare la loro esistenza.
              Dopo moltissimi consensi ottenuti finalmente l’iniziativa guadagna i primi 100+ partecipanti tramite una piattaforma crowdfunding,
              per poi diventare il mio principale impegno fotografico.
            </span>
            <span lang="en">
              In 2018 I launched “Italy in Large Format”, which helped many rediscover the importance of having at least one printed portrait.
              After strong support, it reached 100+ participants through crowdfunding and became my main commitment.
            </span>
          </p>
        </div>

        <div class="reveal">
          <figure class="media media--portrait" data-component="smart-media">
            <div class="media__ph" aria-hidden="true"></div>
            <img class="media__img" data-src="/assets/img/bio/emanuele.jpg" alt="Ritratto di Emanuele Passarelli">
          </figure>
        </div>
      </div>
    </section>

    <section id="contatti" class="section" aria-label="Contatti">
      <div class="wrap">
        <div class="reveal">
          <p class="kicker">Contatti</p>
          <h2 class="h2">
            <span lang="it">Scrivimi per disponibilità e collaborazioni</span>
            <span lang="en">Reach out for availability and collaborations</span>
          </h2>
        </div>

        <div class="contactMini reveal">
          <div class="contactMini__left">
            <p class="lead" style="margin:0;">
              <span lang="it">Mi muovo in Italia e all’estero. Se vuoi un ritratto o portare il progetto nella tua città, scrivimi.</span>
              <span lang="en">Available in Italy and internationally. For portraits or to bring the project to your city, write me.</span>
            </p>
            <p class="micro" style="margin-top:.35rem;">
              <span lang="it">Italia · International</span>
              <span lang="en">Italy · International</span>
            </p>
          </div>

          <div class="contactMini__right">
            <button class="btn btn--primary btnEmail" type="button" data-action="copy-email" aria-label="Vedi email e copia">
              <span class="btnBadge" aria-hidden="true" data-email-badge>
                <i class="fa-solid fa-circle-check"></i>
                <span lang="it">Copiata</span><span lang="en">Copied</span>
              </span>

              <span class="btnEmail__shell">
                <i class="fa-regular fa-envelope"></i>
                <span class="btnEmail__labelText"><span lang="it">Vedi email</span><span lang="en">View email</span></span>
                <span class="btnEmail__email">contact@emanuelepassarelli.it</span>
              </span>
            </button>

            <a class="btn btn--ghost" href="https://instagram.com/emanuelepassarelli" rel="noopener" target="_blank">
              <i class="fa-brands fa-instagram"></i>
              <span>Instagram</span>
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer" data-component="footer">
    <div class="wrap footer__wrap">
      <p class="micro">© <span data-year></span> Emanuele Passarelli</p>
      <div class="footer__links">
        <a href="#top"><i class="fa-solid fa-arrow-up" style="margin-right:.4rem; opacity:.9;"></i>Top</a>
        <a href="#ritratto"><span lang="it">Scopri</span><span lang="en">Discover</span></a>
        <a href="#contatti"><span lang="it">Contatti</span><span lang="en">Contact</span></a>
      </div>
    </div>
  </footer>

  <div class="sr-only" aria-live="polite" aria-atomic="true" data-announcer></div>

  <script>
    (function(){
      "use strict";

      const root = document.documentElement;
      const header = document.querySelector('[data-component="header"]');
      const announcer = document.querySelector('[data-announcer]');
      const mobileNav = document.querySelector('[data-component="mobile-nav"]');
      const navToggle = document.querySelector('[data-action="toggle-nav"]');

      const hero = document.querySelector('[data-hero]');
      const heroCta = document.querySelector('[data-hero-cta]');
      const scrollCueDock = document.querySelector('[data-scrollcue]');

      const emailValue = "contact@emanuelepassarelli.it";

      const prefersReducedMotion = () =>
        window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      const safeStorage = {
        get(key){ try{ return localStorage.getItem(key); }catch{ return null; } },
        set(key,val){ try{ localStorage.setItem(key,val); }catch{ /* ignore */ } }
      };

      const announce = (msg) => { if(announcer) announcer.textContent = msg; };

      const lockScroll = (lock) => {
        document.documentElement.style.overflow = lock ? 'hidden' : '';
        document.body.style.overflow = lock ? 'hidden' : '';
      };

      const openNav = () => {
        if(!mobileNav) return;
        mobileNav.classList.add('is-open');
        mobileNav.setAttribute('aria-hidden', 'false');
        if(navToggle) navToggle.setAttribute('aria-expanded', 'true');
        lockScroll(true);
      };

      const closeNav = () => {
        if(!mobileNav) return;
        mobileNav.classList.remove('is-open');
        mobileNav.setAttribute('aria-hidden', 'true');
        if(navToggle) navToggle.setAttribute('aria-expanded', 'false');
        lockScroll(false);
      };

      /* Fixed header offset */
      const applyHeaderOffset = () => {
        if(!header) return;
        const h = header.getBoundingClientRect().height;
        document.body.style.paddingTop = h + 'px';
      };

      /* Theme (default always dark) */
      const THEME_KEY = 'ep_theme';
      const applyTheme = (theme) => {
        const t = theme === 'light' ? 'light' : 'dark';
        root.setAttribute('data-theme', t);
        safeStorage.set(THEME_KEY, t);
        document.querySelectorAll('[data-action="toggle-theme"] i').forEach((icon) => {
          icon.className = (t === 'dark') ? 'fa-regular fa-sun' : 'fa-regular fa-moon';
        });
      };
      const initTheme = () => {
        const saved = safeStorage.get(THEME_KEY);
        if(saved){ applyTheme(saved); return; }
        applyTheme('dark');
      };

      /* Language */
      const LANG_KEY = 'ep_lang';
      const applyLanguage = (lang) => {
        const l = lang === 'en' ? 'en' : 'it';
        root.setAttribute('data-language', l);
        safeStorage.set(LANG_KEY, l);
        document.documentElement.setAttribute('lang', l);
        document.querySelectorAll('[data-action="set-language"]').forEach((btn) => {
          const active = btn.getAttribute('data-language') === l;
          btn.classList.toggle('is-active', active);
          btn.setAttribute('aria-pressed', active ? 'true' : 'false');
        });
        announce(l === 'it' ? 'Lingua impostata su Italiano' : 'Language set to English');
      };
      const initLanguage = () => {
        const params = new URLSearchParams(window.location.search);
        const urlLang = params.get('lang');
        const saved = safeStorage.get(LANG_KEY);
        applyLanguage(urlLang || saved || 'it');
      };

      /* Header scrolled state (no hide) */
      const initHeaderScroll = () => {
        if(!header) return;
        let ticking = false;

        const onScroll = () => {
          const y = window.scrollY;
          header.classList.toggle('is-scrolled', y > 12);
          ticking = false;
        };

        window.addEventListener('scroll', () => {
          if (ticking) return;
          ticking = true;
          requestAnimationFrame(onScroll);
        }, { passive: true });

        onScroll();
      };

      /* Position the scroll cue centered to viewport, under CTA, without affecting layout */
      const placeScrollCue = () => {
        if(!hero || !heroCta || !scrollCueDock) return;
        const heroRect = hero.getBoundingClientRect();
        const ctaRect = heroCta.getBoundingClientRect();

        const top = (ctaRect.bottom - heroRect.top) + 18; /* small breathing space */
        scrollCueDock.style.top = Math.max(0, top) + 'px';
      };

      /* Scroll reveal */
      const initReveals = () => {
        const els = Array.from(document.querySelectorAll('.reveal'));
        if(!els.length) return;

        if(prefersReducedMotion()){
          els.forEach(el => el.classList.add('is-inview'));
          return;
        }

        if('IntersectionObserver' in window){
          const io = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if(!entry.isIntersecting) return;
              entry.target.classList.add('is-inview');
              io.unobserve(entry.target);
            });
          }, { rootMargin: '0px 0px -10% 0px', threshold: 0.12 });

          els.forEach(el => io.observe(el));
        } else {
          els.forEach(el => el.classList.add('is-inview'));
        }
      };

      /* Smart media */
      const initSmartMedia = () => {
        const imgs = Array.from(document.querySelectorAll('img[data-src]'));
        if(!imgs.length) return;

        const loadImg = (img) => {
          const src = img.getAttribute('data-src');
          if(!src) return;
          const holder = img.closest('[data-component="smart-media"]');
          const onLoad = () => holder && holder.classList.add('is-loaded');
          const onError = () => holder && holder.classList.add('has-error');
          img.addEventListener('load', onLoad, { once: true });
          img.addEventListener('error', onError, { once: true });
          img.setAttribute('src', src);
        };

        if('IntersectionObserver' in window){
          const io = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if(!entry.isIntersecting) return;
              io.unobserve(entry.target);
              loadImg(entry.target);
            });
          }, { rootMargin: '280px 0px' });

          imgs.forEach(img => io.observe(img));
        } else {
          imgs.forEach(loadImg);
        }
      };

      /* YouTube thumbnail preload */
      const initYTThumbs = () => {
        const portals = Array.from(document.querySelectorAll('.videoPortal[data-video="youtube"]'));
        if(!portals.length) return;

        portals.forEach((portal) => {
          const id = portal.getAttribute('data-youtube-id');
          const img = portal.querySelector('[data-thumb]');
          if(!id || !img) return;

          const candidates = [
            `https://i.ytimg.com/vi/${encodeURIComponent(id)}/maxresdefault.jpg`,
            `https://i.ytimg.com/vi/${encodeURIComponent(id)}/hqdefault.jpg`
          ];

          let idx = 0;
          const tryLoad = () => {
            const src = candidates[idx];
            img.onload = () => portal.classList.add('is-thumb-loaded');
            img.onerror = () => { idx += 1; if(idx < candidates.length) tryLoad(); };
            img.src = src;
          };
          tryLoad();
        });
      };

      /* YouTube autoplay embed */
      const initVideoPortals = () => {
        const portals = Array.from(document.querySelectorAll('.videoPortal[data-video="youtube"]'));
        if(!portals.length) return;

        portals.forEach((portal) => {
          const mount = portal.querySelector('[data-video-mount]');
          const videoId = portal.getAttribute('data-youtube-id');
          if(!mount || !videoId) return;

          const reduce = prefersReducedMotion();
          const start = 8;

          const cover = document.createElement('div');
          cover.className = 'videoPortal__cover';

          const iframe = document.createElement('iframe');
          iframe.title = "Italia nel Grande Formato - Presentazione Progetto";
          iframe.loading = "lazy";
          iframe.allowFullscreen = true;
          iframe.referrerPolicy = "strict-origin-when-cross-origin";
          iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share";

          const params = new URLSearchParams({
            autoplay: reduce ? "0" : "1",
            mute: "1",
            playsinline: "1",
            rel: "0",
            modestbranding: "1",
            controls: "0",
            disablekb: "1",
            fs: "0",
            iv_load_policy: "3",
            start: String(start),
            loop: "1",
            playlist: videoId
          });

          iframe.src = "https://www.youtube.com/embed/" + encodeURIComponent(videoId) + "?" + params.toString();

          cover.appendChild(iframe);
          mount.appendChild(cover);
        });
      };

      /* Clipboard */
      const copyToClipboard = async (text) => {
        try{
          if(navigator.clipboard && navigator.clipboard.writeText){
            await navigator.clipboard.writeText(text);
            return true;
          }
        }catch{ /* fallback below */ }

        try{
          const ta = document.createElement('textarea');
          ta.value = text;
          ta.setAttribute('readonly', '');
          ta.style.position = 'fixed';
          ta.style.top = '-9999px';
          document.body.appendChild(ta);
          ta.select();
          document.execCommand('copy');
          ta.remove();
          return true;
        }catch{
          return false;
        }
      };

      const showEmailBadge = (btn) => {
        const badge = btn.querySelector('[data-email-badge]');
        if(!badge) return;
        badge.classList.add('is-show');
        window.clearTimeout(badge._t);
        badge._t = window.setTimeout(() => badge.classList.remove('is-show'), 1100);
      };

      /* Actions */
      const initActions = () => {
        document.addEventListener('click', async (e) => {
          const btn = e.target.closest('[data-action]');
          if(!btn) return;
          const action = btn.getAttribute('data-action');

          if(action === 'toggle-theme'){
            const current = root.getAttribute('data-theme') || 'dark';
            const next = current === 'dark' ? 'light' : 'dark';
            applyTheme(next);
            announce(next === 'dark' ? 'Tema scuro attivo' : 'Tema chiaro attivo');
            return;
          }

          if(action === 'set-language'){
            applyLanguage(btn.getAttribute('data-language') || 'it');
            return;
          }

          if(action === 'toggle-nav'){ openNav(); return; }
          if(action === 'close-nav'){ closeNav(); return; }

          if(action === 'copy-email'){
            const ok = await copyToClipboard(emailValue);
            btn.classList.add('is-done');
            announce(ok ? 'Email copiata' : 'Copia non riuscita');
            if(ok) showEmailBadge(btn);
            window.clearTimeout(btn._t);
            btn._t = window.setTimeout(() => btn.classList.remove('is-done'), 2200);
            return;
          }
        });

        document.addEventListener('keydown', (e) => {
          if(e.key === 'Escape') closeNav();
        });

        window.addEventListener('hashchange', () => closeNav(), { passive: true });
      };

      const initYear = () => {
        const el = document.querySelector('[data-year]');
        if(el) el.textContent = String(new Date().getFullYear());
      };

      const initVideoEntrance = () => {
        if(prefersReducedMotion()) return;
        window.setTimeout(() => root.classList.add('is-video-enter'), 120);
      };

      /* Init */
      const init = () => {
        initTheme();
        initLanguage();
        initActions();
        initHeaderScroll();
        initReveals();
        initSmartMedia();
        initYTThumbs();
        initVideoPortals();
        initYear();

        applyHeaderOffset();
        placeScrollCue();
        initVideoEntrance();

        window.addEventListener('resize', () => {
          applyHeaderOffset();
          placeScrollCue();
        }, { passive: true });

        window.addEventListener('scroll', () => {
          placeScrollCue();
        }, { passive: true });
      };

      if(document.readyState === 'loading'){
        document.addEventListener('DOMContentLoaded', init, { once: true });
      } else {
        init();
      }
    })();
  </script>
</body>
</html>
