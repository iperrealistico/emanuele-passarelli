<!doctype html>
<html lang="it" dir="ltr" data-theme="dark" data-language="it">
<head>
  <!--
    Single-file landing page (index.html)
    - HTML + CSS + JS in one file
    - External only: Google Fonts + YouTube iframe API (loaded on demand)
    - Monochrome system: white/black only
  -->

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

  <title>Emanuele Passarelli | Artigiano del Ritratto</title>
  <meta name="description" content="Ritratti contemporanei e progetti fotografici. Portfolio, bio e contatti di Emanuele Passarelli.">
  <meta name="robots" content="index,follow,max-image-preview:large">

  <meta name="color-scheme" content="dark light">
  <meta name="theme-color" content="#0b0c0f" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">

  <link rel="canonical" href="https://emanuelepassarelli.it/">

  <!-- Open Graph -->
  <meta property="og:locale" content="it_IT">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Emanuele Passarelli · Artigiano del Ritratto">
  <meta property="og:title" content="Emanuele Passarelli · Artigiano del Ritratto">
  <meta property="og:description" content="Ritratti contemporanei e progetti fotografici. Portfolio, bio e contatti.">
  <meta property="og:url" content="https://emanuelepassarelli.it/">
  <meta property="og:image" content="/assets/img/og-cover.jpg">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Performance: fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,300..900&family=Inter:wght@200..900&display=swap" rel="stylesheet">

  <!-- Minimal critical CSS (prevents flash) -->
  <style>
    :root{ color-scheme: dark light; }
    body{ margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    a{ color:inherit; }
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
    .skip-link{ position:absolute; left:-9999px; top:0; padding:.75rem 1rem; background:#111; border:1px solid #333; border-radius:.75rem; z-index:9999; }
    .skip-link:focus{ left:.75rem; top:.75rem; }
  </style>

  <style>
    /*
      Monochrome premium system
      - Dark default, light switcher
      - More whitespace + letter-spacing
      - Fullwidth image rhythm + filmstrip rail
      - Smooth placeholders (no shimmer line)
      - Scroll reveals + scrollspy + progress hairline
    */

    :root{
      --font-body: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      --font-display: Fraunces, ui-serif, Georgia, serif;

      --fs-0: clamp(0.96rem, 0.88rem + 0.22vw, 1.05rem);
      --fs-1: clamp(1.10rem, 0.98rem + 0.55vw, 1.32rem);
      --fs-2: clamp(1.46rem, 1.12rem + 1.25vw, 2.05rem);
      --fs-3: clamp(2.00rem, 1.38rem + 2.25vw, 3.00rem);
      --fs-4: clamp(2.75rem, 1.75rem + 3.15vw, 3.95rem);

      --s-1: clamp(0.55rem, 0.44rem + 0.32vw, 0.72rem);
      --s-2: clamp(0.88rem, 0.70rem + 0.55vw, 1.18rem);
      --s-3: clamp(1.20rem, 0.95rem + 0.85vw, 1.70rem);
      --s-4: clamp(1.60rem, 1.15rem + 1.30vw, 2.30rem);
      --s-5: clamp(2.30rem, 1.45rem + 2.15vw, 3.40rem);
      --s-6: clamp(3.20rem, 2.00rem + 3.20vw, 5.20rem);

      --r-1: 12px;
      --r-2: 18px;
      --r-3: 28px;

      --ease-out: cubic-bezier(.16,1,.3,1);
      --ease-soft: cubic-bezier(.2,.8,.2,1);
      --dur-1: 180ms;
      --dur-2: 320ms;
      --dur-3: 720ms;

      --wrap: min(1120px, calc(100% - 2*clamp(1rem, 4vw, 2.2rem)));
      --ph-breath: 2.6s;

      --scrollp: 0%;
    }

    :root[data-theme="dark"]{
      --bg: #0b0c0f;
      --bg-2: #0f1218;
      --surface: rgba(255,255,255,.035);
      --surface-2: rgba(255,255,255,.055);
      --border: rgba(255,255,255,.10);
      --border-2: rgba(255,255,255,.16);
      --text: rgba(255,255,255,.93);
      --muted: rgba(255,255,255,.70);
      --muted-2: rgba(255,255,255,.54);
      --shadow: rgba(0,0,0,.55);
      --ph-1: rgba(255,255,255,.045);
      --ph-2: rgba(255,255,255,.095);
    }

    :root[data-theme="light"]{
      --bg: #ffffff;
      --bg-2: #f6f6f6;
      --surface: rgba(0,0,0,.03);
      --surface-2: rgba(0,0,0,.055);
      --border: rgba(0,0,0,.10);
      --border-2: rgba(0,0,0,.16);
      --text: rgba(0,0,0,.90);
      --muted: rgba(0,0,0,.67);
      --muted-2: rgba(0,0,0,.52);
      --shadow: rgba(0,0,0,.18);
      --ph-1: rgba(0,0,0,.035);
      --ph-2: rgba(0,0,0,.085);
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: var(--font-body);
      font-size: var(--fs-0);
      line-height: 1.58;
      letter-spacing: .02em;
      color: var(--text);
      background: linear-gradient(180deg, var(--bg), var(--bg));
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
      overflow-x: hidden;
    }

    img, video, iframe{ max-width:100%; display:block; }
    a{ color: inherit; text-decoration: none; }

    .wrap{ width: var(--wrap); margin-inline:auto; }
    .bleed{ width: 100vw; margin-left: calc(50% - 50vw); margin-right: calc(50% - 50vw); }

    /* Grain */
    body::before{
      content:"";
      position: fixed;
      inset: 0;
      pointer-events:none;
      opacity: .06;
      mix-blend-mode: overlay;
      background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,.14) 1px, transparent 0);
      background-size: 3px 3px;
    }

    /* Hairline grid (very subtle) */
    body::after{
      content:"";
      position: fixed;
      inset: 0;
      pointer-events:none;
      opacity: .10;
      background:
        repeating-linear-gradient(90deg, color-mix(in oklab, var(--text) 4%, transparent) 0 1px, transparent 1px 140px);
      mix-blend-mode: overlay;
    }

    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto; }
      *, *::before, *::after{ animation-duration: 1ms !important; animation-iteration-count: 1 !important; transition-duration: 1ms !important; }
    }

    /* Language visibility */
    :root[data-language="it"] [lang="en"]{ display:none !important; }
    :root[data-language="en"] [lang="it"]{ display:none !important; }

    /* Type */
    .kicker{ margin: 0 0 var(--s-2); color: var(--muted); letter-spacing: .18em; text-transform: uppercase; font-size: .84em; }
    .h2{ font-family: var(--font-display); font-size: var(--fs-3); line-height: 1.08; letter-spacing: .04em; margin: 0 0 var(--s-2); }
    .h3{ font-family: var(--font-display); font-size: var(--fs-2); line-height: 1.12; letter-spacing: .04em; margin: 0 0 var(--s-1); }
    .lead{ font-size: var(--fs-1); color: var(--muted); margin: 0 0 var(--s-3); max-width: 62ch; }
    .p{ margin: 0 0 var(--s-2); color: var(--muted); max-width: 72ch; }
    .micro{ font-size: .90em; color: var(--muted-2); margin: 0; letter-spacing: .18em; text-transform: uppercase; }

    /* Header */
    .site-header{
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(14px);
      background: color-mix(in oklab, var(--bg) 85%, transparent);
      border-bottom: 1px solid color-mix(in oklab, var(--border) 80%, transparent);
      transform: translateY(0);
      transition: transform var(--dur-2) var(--ease-out);
    }
    .site-header.is-hidden{ transform: translateY(-105%); }
    .site-header.is-scrolled{ border-bottom-color: var(--border-2); }

    .scrollbar{
      position:absolute;
      left:0;
      bottom:0;
      height: 1px;
      width: var(--scrollp);
      background: color-mix(in oklab, var(--text) 55%, transparent);
      opacity: .55;
    }

    .header__wrap{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: var(--s-2);
      padding: .95rem 0;
      transition: padding var(--dur-2) var(--ease-out);
    }
    .site-header.is-scrolled .header__wrap{ padding: .70rem 0; }

    .brand{ display:flex; align-items:center; gap: .85rem; min-width: 240px; }
    .brand__mark{
      width: 40px;
      height: 40px;
      display:grid;
      place-items:center;
      border-radius: 12px;
      background: color-mix(in oklab, var(--surface-2) 80%, transparent);
      border: 1px solid var(--border);
      box-shadow: 0 18px 60px var(--shadow);
      font-weight: 800;
      letter-spacing: .18em;
      text-indent: .18em;
    }
    .brand__name{ display:block; font-weight: 750; letter-spacing: .18em; text-transform: uppercase; font-size: .90em; }
    .brand__tagline{ display:block; font-size: .92em; color: var(--muted); margin-top: .1rem; letter-spacing: .10em; }

    .nav{ display:flex; gap: clamp(.55rem, 1.2vw, 1.05rem); align-items:center; }
    .nav__link{
      font-size: .84em;
      color: var(--muted);
      padding: .55rem .60rem;
      border-radius: 12px;
      letter-spacing: .20em;
      text-transform: uppercase;
      transition: color var(--dur-2) var(--ease-out), background var(--dur-2) var(--ease-out);
    }
    .nav__link:hover{ color: var(--text); background: color-mix(in oklab, var(--surface) 92%, transparent); }
    .nav__link.is-active{ color: var(--text); background: color-mix(in oklab, var(--surface-2) 78%, transparent); }

    .controls{ display:flex; align-items:center; gap: .6rem; }
    .segmented{
      display:flex;
      align-items:center;
      padding: 4px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: color-mix(in oklab, var(--surface) 92%, transparent);
    }
    .segmented__btn{
      appearance:none;
      border:0;
      background: transparent;
      color: var(--muted);
      padding: .40rem .70rem;
      border-radius: 999px;
      font-weight: 900;
      letter-spacing: .22em;
      text-transform: uppercase;
      cursor:pointer;
      transition: background var(--dur-2) var(--ease-out), color var(--dur-2) var(--ease-out);
    }
    .segmented__btn.is-active{ color: var(--text); background: color-mix(in oklab, var(--surface-2) 85%, transparent); }

    .icon-btn{
      appearance:none;
      border: 1px solid var(--border);
      background: color-mix(in oklab, var(--surface) 92%, transparent);
      color: var(--text);
      width: 40px;
      height: 40px;
      border-radius: 14px;
      display:grid;
      place-items:center;
      cursor:pointer;
      transition: transform var(--dur-1) var(--ease-out), border-color var(--dur-2) var(--ease-out);
    }
    .icon-btn:hover{ transform: translateY(-1px); border-color: var(--border-2); }
    .icon-btn:active{ transform: translateY(0); }

    .nav-toggle{ display:none; }
    @media (max-width: 920px){ .nav{ display:none; } .nav-toggle{ display:grid; } }

    /* Sections */
    .section{ padding: var(--s-6) 0; }

    /* Buttons */
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:.55rem;
      padding: .95rem 1.25rem;
      border-radius: 999px;
      border: 1px solid var(--border);
      font-weight: 900;
      letter-spacing: .22em;
      text-transform: uppercase;
      cursor:pointer;
      transition: transform var(--dur-1) var(--ease-out), border-color var(--dur-2) var(--ease-out), background var(--dur-2) var(--ease-out);
    }
    .btn--primary{ background: color-mix(in oklab, var(--surface-2) 85%, transparent); }
    .btn--ghost{ background: transparent; }
    .btn:hover{ transform: translateY(-1px); border-color: var(--border-2); }
    .btn:active{ transform: translateY(0); }

    /* Hero */
    .hero{ padding: clamp(2.2rem, 2vw + 1.3rem, 3.6rem) 0 var(--s-6); }
    .hero__wrap{ display:grid; grid-template-columns: 1.12fr .88fr; gap: var(--s-5); align-items: center; }
    .hero__title{ font-family: var(--font-display); font-size: var(--fs-4); line-height: 1.02; letter-spacing: .03em; margin: 0 0 var(--s-3); }
    .hero__titleLine{ display:block; }
    .hero__titleLine--muted{ color: color-mix(in oklab, var(--text) 70%, transparent); }
    .hero__cta{ display:flex; flex-wrap: wrap; gap: .75rem; margin-bottom: var(--s-3); }
    @media (max-width: 980px){ .hero__wrap{ grid-template-columns: 1fr; } .hero__media{ order: -1; } }

    /* Video portal */
    .videoPortal{ display:grid; gap: .75rem; }
    .videoPortal__frame{
      position: relative;
      border-radius: var(--r-3);
      overflow: hidden;
      aspect-ratio: 16/10;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, var(--bg-2), var(--bg));
      box-shadow: 0 28px 110px var(--shadow);
      isolation: isolate;
    }
    .videoPortal__mount{ position:absolute; inset:0; z-index: 2; opacity: 0; transition: opacity var(--dur-3) var(--ease-out); }
    .videoPortal__mount iframe{ width:100%; height:100%; border:0; }

    .mediaPlaceholder{
      position:absolute;
      inset:0;
      z-index: 1;
      background:
        radial-gradient(140% 120% at 18% 10%, var(--ph-2), transparent 60%),
        radial-gradient(120% 120% at 82% 85%, var(--ph-1), transparent 65%),
        linear-gradient(180deg, var(--bg-2), var(--bg));
      animation: phBreath var(--ph-breath) var(--ease-soft) infinite;
    }
    @keyframes phBreath{ 0%{ filter: contrast(1) brightness(1); opacity: .70; } 50%{ filter: contrast(1.05) brightness(1.04); opacity: .95; } 100%{ filter: contrast(1) brightness(1); opacity: .70; } }

    .videoPortal__badge{
      position:absolute;
      left: 18px;
      bottom: 16px;
      padding: .45rem .75rem;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: color-mix(in oklab, var(--surface) 92%, transparent);
      font-weight: 900;
      letter-spacing: .22em;
      text-transform: uppercase;
      font-size: .78em;
    }

    .videoPortal__start{
      position:absolute;
      inset: 0;
      z-index: 3;
      display:grid;
      place-items:center;
      background: linear-gradient(180deg, transparent, color-mix(in oklab, var(--bg) 55%, transparent));
      border:0;
      color: var(--text);
      cursor:pointer;
    }
    .videoPortal__label{
      display:inline-flex;
      align-items:center;
      gap:.65rem;
      font-weight: 950;
      letter-spacing: .24em;
      text-transform: uppercase;
      padding: .95rem 1.25rem;
      border-radius: 999px;
      border: 1px solid var(--border-2);
      background: color-mix(in oklab, var(--surface-2) 85%, transparent);
      box-shadow: 0 26px 110px var(--shadow);
      transition: transform var(--dur-2) var(--ease-out), border-color var(--dur-2) var(--ease-out);
    }
    .videoPortal__pulse{
      position:absolute;
      width: 96px;
      height: 96px;
      border-radius: 999px;
      background: radial-gradient(circle at 50% 50%, var(--ph-2), transparent 65%);
      animation: pulse 2.3s var(--ease-soft) infinite;
      opacity: .9;
    }
    @keyframes pulse{ 0%{ transform: scale(0.90); opacity: .60; } 45%{ transform: scale(1.02); opacity: .90; } 100%{ transform: scale(0.90); opacity: .60; } }
    .videoPortal__start:hover .videoPortal__label{ transform: translateY(-2px); border-color: var(--text); }

    .videoPortal.is-playing .videoPortal__mount{ opacity: 1; }
    .videoPortal.is-playing .mediaPlaceholder{ opacity: 0; transition: opacity var(--dur-3) var(--ease-out); }
    .videoPortal.is-playing .videoPortal__start{ opacity: 0; pointer-events:none; transition: opacity var(--dur-3) var(--ease-out); }

    /* Portfolio */
    .portfolio{ padding-top: 0; }

    .fullMedia{
      position: relative;
      border-top: 1px solid color-mix(in oklab, var(--border) 80%, transparent);
      border-bottom: 1px solid color-mix(in oklab, var(--border) 80%, transparent);
      background: linear-gradient(180deg, var(--bg-2), var(--bg));
    }

    .fullMedia__wrap{
      width: var(--wrap);
      margin-inline: auto;
      padding: var(--s-5) 0;
      display:grid;
      gap: var(--s-3);
    }

    .media{
      position: relative;
      border-radius: var(--r-3);
      overflow: hidden;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, var(--bg-2), var(--bg));
      box-shadow: 0 28px 110px var(--shadow);
    }
    .media--wide{ aspect-ratio: 21/10; }
    .media--cinema{ aspect-ratio: 16/9; }
    .media--portrait{ aspect-ratio: 3/4; }
    .media--square{ aspect-ratio: 1/1; }

    .media__ph{
      position:absolute;
      inset:0;
      background:
        radial-gradient(140% 120% at 18% 10%, var(--ph-2), transparent 60%),
        radial-gradient(120% 120% at 82% 85%, var(--ph-1), transparent 65%),
        linear-gradient(180deg, var(--bg-2), var(--bg));
      animation: phBreath var(--ph-breath) var(--ease-soft) infinite;
    }

    .media__img{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit: cover;
      object-position: center;
      opacity: 0;
      transform: scale(1.01);
      transition: opacity var(--dur-3) var(--ease-out), transform var(--dur-3) var(--ease-out);
    }
    .is-loaded > .media__img{ opacity: 1; transform: scale(1); }
    .has-error .media__img{ display:none; }

    .captionRow{
      display:flex;
      align-items: baseline;
      justify-content: space-between;
      gap: var(--s-2);
      flex-wrap: wrap;
      margin-top: .85rem;
    }
    .captionRow__title{ margin:0; font-weight: 900; letter-spacing: .22em; text-transform: uppercase; font-size: .84em; color: var(--text); }
    .captionRow__meta{ margin:0; color: var(--muted); letter-spacing: .20em; text-transform: uppercase; font-size: .76em; }

    /* Horizontal rail (filmstrip) */
    .rail{
      border-top: 1px solid color-mix(in oklab, var(--border) 80%, transparent);
      border-bottom: 1px solid color-mix(in oklab, var(--border) 80%, transparent);
      background: linear-gradient(180deg, var(--bg-2), var(--bg));
    }
    .rail__wrap{
      width: 100vw;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
      padding: var(--s-4) clamp(1rem, 4vw, 2.2rem);
      display:flex;
      gap: var(--s-3);
      overflow:auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }
    .rail__wrap::-webkit-scrollbar{ height: 10px; }
    .rail__wrap::-webkit-scrollbar-thumb{ background: color-mix(in oklab, var(--text) 22%, transparent); border-radius: 999px; }
    .rail__item{ flex: 0 0 clamp(260px, 38vw, 520px); scroll-snap-align: start; }
    .rail__item .media{ border-radius: var(--r-2); }

    /* Bio */
    .bio{ display:grid; grid-template-columns: 1.08fr .92fr; gap: var(--s-5); align-items: start; }
    .bio__media{ display:grid; gap: var(--s-3); }
    @media (max-width: 980px){ .bio{ grid-template-columns: 1fr; } }

    /* Minimal contacts */
    .contactMini{
      display:flex;
      flex-wrap: wrap;
      align-items:center;
      justify-content: space-between;
      gap: var(--s-3);
      border: 1px solid var(--border);
      border-radius: var(--r-3);
      padding: var(--s-4);
      background: color-mix(in oklab, var(--surface) 92%, transparent);
      box-shadow: 0 26px 120px var(--shadow);
    }
    .contactMini__left{ display:grid; gap: .35rem; }
    .contactMini__right{ display:flex; flex-wrap: wrap; gap: .75rem; }

    /* Footer */
    .site-footer{
      padding: var(--s-4) 0 var(--s-5);
      border-top: 1px solid color-mix(in oklab, var(--border) 80%, transparent);
      background: color-mix(in oklab, var(--bg) 92%, transparent);
    }
    .footer__wrap{ display:flex; justify-content: space-between; gap: var(--s-2); align-items:center; flex-wrap: wrap; }
    .footer__links{ display:flex; gap: .9rem; }
    .footer__links a{ color: var(--muted); letter-spacing: .22em; text-transform: uppercase; font-size: .76em; }
    .footer__links a:hover{ color: var(--text); }

    /* Scroll reveal */
    .reveal{ opacity: 0; transform: translateY(14px); filter: blur(2px); transition: opacity var(--dur-3) var(--ease-out), transform var(--dur-3) var(--ease-out), filter var(--dur-3) var(--ease-out); transition-delay: var(--reveal-delay, 0ms); }
    .reveal.is-inview{ opacity: 1; transform: translateY(0); filter: blur(0); }

    /* Accessibility */
    :focus-visible{ outline: 2px solid color-mix(in oklab, var(--text) 55%, transparent); outline-offset: 3px; }
    *{ word-wrap: break-word; }
  </style>

  <!-- Structured data (single page) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "WebSite",
        "@id": "https://emanuelepassarelli.it/#website",
        "url": "https://emanuelepassarelli.it/",
        "name": "Emanuele Passarelli · Artigiano del Ritratto",
        "inLanguage": "it-IT"
      },
      {
        "@type": "Person",
        "@id": "https://emanuelepassarelli.it/#person",
        "name": "Emanuele Passarelli",
        "jobTitle": [
          { "@value": "Fotografo", "@language": "it" },
          { "@value": "Portrait Photographer", "@language": "en" }
        ],
        "url": "https://emanuelepassarelli.it/"
      },
      {
        "@type": "WebPage",
        "@id": "https://emanuelepassarelli.it/#webpage",
        "url": "https://emanuelepassarelli.it/",
        "name": "Emanuele Passarelli | Artigiano del Ritratto",
        "isPartOf": { "@id": "https://emanuelepassarelli.it/#website" },
        "about": { "@id": "https://emanuelepassarelli.it/#person" },
        "inLanguage": "it-IT"
      }
    ]
  }
  </script>
</head>

<body>
  <a class="skip-link" href="#main">Vai al contenuto</a>

  <header class="site-header" data-component="header">
    <div class="scrollbar" aria-hidden="true"></div>
    <div class="wrap header__wrap">
      <a class="brand" href="#top" aria-label="Torna all'inizio">
        <span class="brand__mark" aria-hidden="true">EP</span>
        <span class="brand__text">
          <span class="brand__name">Emanuele Passarelli</span>
          <span class="brand__tagline">
            <span lang="it">Artigiano del Ritratto</span>
            <span lang="en">Portrait Artisan</span>
          </span>
        </span>
      </a>

      <nav class="nav" aria-label="Navigazione principale" data-nav>
        <a class="nav__link" href="#ritratto" data-nav-link>Ritratto</a>
        <a class="nav__link" href="#portfolio" data-nav-link>Portfolio</a>
        <a class="nav__link" href="#bio" data-nav-link>Bio</a>
        <a class="nav__link" href="#contatti" data-nav-link>Contatti</a>
      </nav>

      <div class="controls" aria-label="Controlli sito">
        <div class="segmented" role="group" aria-label="Lingua">
          <button class="segmented__btn is-active" type="button" data-action="set-language" data-language="it" aria-pressed="true">IT</button>
          <button class="segmented__btn" type="button" data-action="set-language" data-language="en" aria-pressed="false">EN</button>
        </div>

        <button class="icon-btn" type="button" data-action="toggle-theme" aria-label="Cambia tema (dark/light)">
          <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill="currentColor"></path>
            <path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path>
          </svg>
        </button>

        <button class="icon-btn nav-toggle" type="button" data-action="toggle-nav" aria-label="Apri menu">
          <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"></path>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <main id="main">
    <section id="top" class="hero" aria-label="Intro" data-section>
      <div class="wrap hero__wrap">
        <div class="hero__copy reveal" data-reveal-delay="0ms">
          <p class="kicker">
            <span lang="it">Ritratti e progetti</span>
            <span lang="en">Portraits and projects</span>
          </p>
          <h1 class="hero__title">
            <span class="hero__titleLine">Emanuele Passarelli</span>
            <span class="hero__titleLine hero__titleLine--muted">
              <span lang="it">Artigiano del Ritratto</span>
              <span lang="en">Portrait Artisan</span>
            </span>
          </h1>
          <p class="lead">
            <span lang="it">Un portfolio essenziale, pensato per mettere davanti a tutto le fotografie: luce, presenza, precisione.</span>
            <span lang="en">A minimal portfolio designed to put photographs first: light, presence, precision.</span>
          </p>
          <div class="hero__cta">
            <a class="btn btn--primary" href="#portfolio">
              <span lang="it">Vedi portfolio</span>
              <span lang="en">View portfolio</span>
            </a>
            <a class="btn btn--ghost" href="#contatti">
              <span lang="it">Contatti</span>
              <span lang="en">Contact</span>
            </a>
          </div>
          <p class="micro">
            <span lang="it">Scroll per esplorare</span>
            <span lang="en">Scroll to explore</span>
          </p>
        </div>

        <div class="hero__media reveal" data-reveal-delay="120ms">
          <div class="videoPortal" data-video="youtube" data-youtube-id="dQw4w9WgXcQ" data-start="0" data-end="0">
            <div class="videoPortal__frame" aria-label="Video presentazione">
              <div class="mediaPlaceholder" aria-hidden="true"></div>
              <div class="videoPortal__badge" aria-hidden="true">
                <span lang="it">Showreel</span>
                <span lang="en">Showreel</span>
              </div>
              <div class="videoPortal__mount" data-video-mount></div>
              <button class="videoPortal__start" type="button" data-action="start-video" aria-label="Avvia video">
                <span class="videoPortal__pulse" aria-hidden="true"></span>
                <span class="videoPortal__label">
                  <span lang="it">Apri</span>
                  <span lang="en">Open</span>
                </span>
              </button>
            </div>
          </div>
          <p class="micro" style="margin-top:.75rem;">
            <span lang="it">YouTube in iframe, con fallback finché non parte.</span>
            <span lang="en">YouTube iframe, with fallback until playback starts.</span>
          </p>
        </div>
      </div>
    </section>

    <section id="ritratto" class="section" aria-label="Ritratto" data-section>
      <div class="wrap">
        <div class="reveal" data-reveal-delay="0ms">
          <p class="kicker">
            <span lang="it">Approccio</span>
            <span lang="en">Approach</span>
          </p>
          <h2 class="h2">
            <span lang="it">Il ritratto come spazio</span>
            <span lang="en">Portrait as a space</span>
          </h2>
          <p class="p">
            <span lang="it">Poche scelte, tutte intenzionali. Una direzione visiva coerente, un'esperienza fluida su ogni schermo, e immagini che respirano.</span>
            <span lang="en">Few choices, all intentional. A coherent visual direction, a smooth experience on any screen, and images that breathe.</span>
          </p>
        </div>
      </div>
    </section>

    <section id="portfolio" class="section portfolio" aria-label="Portfolio" data-section>
      <div class="wrap">
        <div class="reveal" data-reveal-delay="0ms">
          <p class="kicker">Portfolio</p>
          <h2 class="h2">
            <span lang="it">Selezione</span>
            <span lang="en">Selection</span>
          </h2>
          <p class="p">
            <span lang="it">Poche immagini, grandi. Il layout fa da cornice e poi scompare.</span>
            <span lang="en">Few images, big. The layout frames and then disappears.</span>
          </p>
        </div>
      </div>

      <!-- Full-bleed blocks (editorial rhythm) -->
      <div class="fullMedia bleed">
        <div class="fullMedia__wrap">
          <figure class="media media--wide reveal" data-reveal-delay="0ms" data-component="smart-media">
            <div class="media__ph" aria-hidden="true"></div>
            <img class="media__img" data-src="/assets/img/portfolio/01.jpg" alt="Ritratto, immagine 01">
          </figure>
          <div class="captionRow reveal" data-reveal-delay="120ms">
            <p class="captionRow__title">Serie 01</p>
            <p class="captionRow__meta">
              <span lang="it">Ritratto</span>
              <span lang="en">Portrait</span>
            </p>
          </div>
        </div>
      </div>

      <div class="fullMedia bleed">
        <div class="fullMedia__wrap">
          <figure class="media media--cinema reveal" data-reveal-delay="0ms" data-component="smart-media">
            <div class="media__ph" aria-hidden="true"></div>
            <img class="media__img" data-src="/assets/img/portfolio/02.jpg" alt="Ritratto, immagine 02">
          </figure>
          <div class="captionRow reveal" data-reveal-delay="120ms">
            <p class="captionRow__title">Serie 02</p>
            <p class="captionRow__meta">
              <span lang="it">Luce naturale</span>
              <span lang="en">Natural light</span>
            </p>
          </div>
        </div>
      </div>

      <!-- Filmstrip rail (more images, still minimal) -->
      <div class="rail" aria-label="Altre immagini">
        <div class="rail__wrap" role="list">
          <div class="rail__item reveal" data-reveal-delay="0ms" role="listitem">
            <figure class="media media--portrait" data-component="smart-media">
              <div class="media__ph" aria-hidden="true"></div>
              <img class="media__img" data-src="/assets/img/portfolio/03.jpg" alt="Ritratto, immagine 03">
            </figure>
          </div>
          <div class="rail__item reveal" data-reveal-delay="60ms" role="listitem">
            <figure class="media media--portrait" data-component="smart-media">
              <div class="media__ph" aria-hidden="true"></div>
              <img class="media__img" data-src="/assets/img/portfolio/04.jpg" alt="Ritratto, immagine 04">
            </figure>
          </div>
          <div class="rail__item reveal" data-reveal-delay="120ms" role="listitem">
            <figure class="media media--square" data-component="smart-media">
              <div class="media__ph" aria-hidden="true"></div>
              <img class="media__img" data-src="/assets/img/portfolio/05.jpg" alt="Ritratto, immagine 05">
            </figure>
          </div>
          <div class="rail__item reveal" data-reveal-delay="180ms" role="listitem">
            <figure class="media media--square" data-component="smart-media">
              <div class="media__ph" aria-hidden="true"></div>
              <img class="media__img" data-src="/assets/img/portfolio/06.jpg" alt="Ritratto, immagine 06">
            </figure>
          </div>
        </div>
      </div>

      <div class="wrap" style="padding-top: var(--s-4);">
        <p class="micro reveal" data-reveal-delay="0ms">
          <span lang="it">Suggerimento: carica immagini grandi. Il layout si adatta senza stretching.</span>
          <span lang="en">Tip: upload large images. The layout adapts without stretching.</span>
        </p>
      </div>
    </section>

    <section id="bio" class="section" aria-label="Bio" data-section>
      <div class="wrap bio">
        <div class="reveal" data-reveal-delay="0ms">
          <p class="kicker">Bio</p>
          <h2 class="h2">Emanuele Passarelli</h2>
          <p class="p">
            <span lang="it">Inserire qui una bio essenziale, concreta. Due paragrafi massimo, orientati a clienti e art director.</span>
            <span lang="en">Add a tight, concrete bio here. Max two paragraphs, aimed at clients and art directors.</span>
          </p>
          <p class="p">
            <span lang="it">Il sito è costruito per essere veloce, leggibile e coerente. Niente rumore: solo struttura e immagini.</span>
            <span lang="en">This site is built to be fast, readable and coherent. No noise: only structure and images.</span>
          </p>
        </div>

        <div class="bio__media">
          <figure class="media media--portrait reveal" data-reveal-delay="120ms" data-component="smart-media">
            <div class="media__ph" aria-hidden="true"></div>
            <img class="media__img" data-src="/assets/img/bio/emanuele.jpg" alt="Ritratto di Emanuele Passarelli">
          </figure>
        </div>
      </div>
    </section>

    <section id="contatti" class="section" aria-label="Contatti" data-section>
      <div class="wrap">
        <div class="reveal" data-reveal-delay="0ms">
          <p class="kicker">Contatti</p>
          <h2 class="h2">
            <span lang="it">Due righe, zero attrito</span>
            <span lang="en">Two lines, zero friction</span>
          </h2>
        </div>

        <div class="contactMini reveal" data-reveal-delay="120ms">
          <div class="contactMini__left">
            <p class="lead" style="margin:0;">
              <span lang="it">Scrivimi per disponibilità, preventivi e collaborazioni.</span>
              <span lang="en">Reach out for availability, quotes and collaborations.</span>
            </p>
            <p class="micro" style="margin-top:.35rem;">Roma · Italia</p>
          </div>

          <div class="contactMini__right">
            <a class="btn btn--primary" href="mailto:info@example.com">Email</a>
            <a class="btn btn--ghost" href="#" rel="noopener">Instagram</a>
          </div>
        </div>

        <p class="micro reveal" data-reveal-delay="240ms" style="margin-top: 1rem; opacity:.85;">
          <span lang="it">Sostituisci email e link Instagram con quelli reali.</span>
          <span lang="en">Replace the email and Instagram link with real ones.</span>
        </p>
      </div>
    </section>
  </main>

  <footer class="site-footer" data-component="footer">
    <div class="wrap footer__wrap">
      <p class="micro">© <span data-year></span> Emanuele Passarelli</p>
      <div class="footer__links">
        <a href="#top">Top</a>
        <a href="#portfolio">Portfolio</a>
        <a href="#contatti">
          <span lang="it">Contatti</span>
          <span lang="en">Contact</span>
        </a>
      </div>
    </div>
  </footer>

  <div class="sr-only" aria-live="polite" aria-atomic="true" data-announcer></div>

  <script>
    (function(){
      "use strict";

      const root = document.documentElement;
      const header = document.querySelector('[data-component="header"]');
      const announcer = document.querySelector('[data-announcer]');

      const prefersReducedMotion = () =>
        window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      const safeStorage = {
        get(key){ try{ return localStorage.getItem(key); }catch{ return null; } },
        set(key,val){ try{ localStorage.setItem(key,val); }catch{ /* ignore */ } }
      };

      const announce = (msg) => { if(announcer) announcer.textContent = msg; };

      /* Theme */
      const THEME_KEY = 'ep_theme';
      const applyTheme = (theme) => {
        const t = theme === 'light' ? 'light' : 'dark';
        root.setAttribute('data-theme', t);
        safeStorage.set(THEME_KEY, t);
      };
      const initTheme = () => {
        const saved = safeStorage.get(THEME_KEY);
        if(saved){ applyTheme(saved); return; }
        const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
        applyTheme(prefersLight ? 'light' : 'dark');
      };

      /* Language */
      const LANG_KEY = 'ep_lang';
      const applyLanguage = (lang) => {
        const l = lang === 'en' ? 'en' : 'it';
        root.setAttribute('data-language', l);
        safeStorage.set(LANG_KEY, l);
        document.documentElement.setAttribute('lang', l);

        document.querySelectorAll('[data-action="set-language"]').forEach((btn) => {
          const active = btn.getAttribute('data-language') === l;
          btn.classList.toggle('is-active', active);
          btn.setAttribute('aria-pressed', active ? 'true' : 'false');
        });

        announce(l === 'it' ? 'Lingua impostata su Italiano' : 'Language set to English');
      };
      const initLanguage = () => {
        const saved = safeStorage.get(LANG_KEY);
        applyLanguage(saved || 'it');
      };

      /* Header: hide on scroll down + progress hairline */
      const initHeaderScroll = () => {
        if(!header) return;
        let lastY = window.scrollY;
        let ticking = false;

        const onScroll = () => {
          const y = window.scrollY;
          const goingDown = y > lastY;

          header.classList.toggle('is-scrolled', y > 12);

          if (y < 40) header.classList.remove('is-hidden');
          else header.classList.toggle('is-hidden', goingDown && y > 140);

          // progress
          const doc = document.documentElement;
          const max = Math.max(1, doc.scrollHeight - doc.clientHeight);
          const p = Math.min(1, Math.max(0, y / max));
          root.style.setProperty('--scrollp', (p * 100).toFixed(2) + '%');

          lastY = y;
          ticking = false;
        };

        window.addEventListener('scroll', () => {
          if (ticking) return;
          ticking = true;
          requestAnimationFrame(onScroll);
        }, { passive: true });

        // set initial
        requestAnimationFrame(onScroll);
      };

      /* Scrollspy */
      const initScrollSpy = () => {
        const links = Array.from(document.querySelectorAll('[data-nav-link]'));
        const sections = Array.from(document.querySelectorAll('[data-section]'));
        if(!links.length || !sections.length) return;

        const map = new Map();
        links.forEach(a => {
          const id = (a.getAttribute('href') || '').replace('#','');
          if(!id) return;
          map.set(id, a);
        });

        const setActive = (id) => {
          links.forEach(l => l.classList.remove('is-active'));
          const a = map.get(id);
          if(a) a.classList.add('is-active');
        };

        if('IntersectionObserver' in window){
          const io = new IntersectionObserver((entries) => {
            const visible = entries
              .filter(e => e.isIntersecting)
              .sort((a,b) => b.intersectionRatio - a.intersectionRatio)[0];
            if(!visible) return;
            setActive(visible.target.id);
          }, { rootMargin: '-35% 0px -55% 0px', threshold: [0.12, 0.2, 0.35] });

          sections.forEach(s => s.id && io.observe(s));
        } else {
          // fallback: activate Portfolio as default
          setActive('portfolio');
        }
      };

      /* Scroll reveal */
      const initReveals = () => {
        const els = Array.from(document.querySelectorAll('.reveal'));
        if(!els.length) return;

        // per-element delay
        els.forEach(el => {
          const d = el.getAttribute('data-reveal-delay');
          if(d) el.style.setProperty('--reveal-delay', d);
        });

        if(prefersReducedMotion()){
          els.forEach(el => el.classList.add('is-inview'));
          return;
        }

        if('IntersectionObserver' in window){
          const io = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if(!entry.isIntersecting) return;
              entry.target.classList.add('is-inview');
              io.unobserve(entry.target);
            });
          }, { rootMargin: '0px 0px -10% 0px', threshold: 0.12 });

          els.forEach(el => io.observe(el));
        } else {
          els.forEach(el => el.classList.add('is-inview'));
        }
      };

      /* Smart media loader (prevents broken image icons) */
      const initSmartMedia = () => {
        const imgs = Array.from(document.querySelectorAll('img[data-src]'));
        if(!imgs.length) return;

        const loadImg = (img) => {
          const src = img.getAttribute('data-src');
          if(!src) return;
          const holder = img.closest('[data-component="smart-media"]');

          const onLoad = () => holder && holder.classList.add('is-loaded');
          const onError = () => holder && holder.classList.add('has-error');

          img.addEventListener('load', onLoad, { once: true });
          img.addEventListener('error', onError, { once: true });

          img.setAttribute('src', src);
        };

        if('IntersectionObserver' in window){
          const io = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if(!entry.isIntersecting) return;
              io.unobserve(entry.target);
              loadImg(entry.target);
            });
          }, { rootMargin: '320px 0px' });

          imgs.forEach(img => io.observe(img));
        } else {
          imgs.forEach(loadImg);
        }
      };

      /* YouTube Video Portal (iframe API) */
      const YT_STATE = { PLAYING: 1 };
      let ytPromise = null;

      const loadYT = () => {
        if(ytPromise) return ytPromise;
        ytPromise = new Promise((resolve) => {
          if(window.YT && window.YT.Player){ resolve(window.YT); return; }
          const s = document.createElement('script');
          s.src = 'https://www.youtube.com/iframe_api';
          s.async = true;
          s.defer = true;
          document.head.appendChild(s);

          const prev = window.onYouTubeIframeAPIReady;
          window.onYouTubeIframeAPIReady = function(){
            prev && prev();
            resolve(window.YT);
          };
        });
        return ytPromise;
      };

      const initVideoPortals = async () => {
        const portals = Array.from(document.querySelectorAll('.videoPortal[data-video="youtube"]'));
        if(!portals.length) return;

        const reduce = prefersReducedMotion();
        const YT = await loadYT();

        portals.forEach((portal) => {
          const mount = portal.querySelector('[data-video-mount]');
          const startBtn = portal.querySelector('[data-action="start-video"]');
          const videoId = portal.getAttribute('data-youtube-id');
          const start = Number(portal.getAttribute('data-start') || '0');
          const end = Number(portal.getAttribute('data-end') || '0');
          if(!mount || !videoId) return;

          if(!mount.id) mount.id = `yt-${Math.random().toString(16).slice(2)}`;

          const playerVars = {
            autoplay: reduce ? 0 : 1,
            controls: 0,
            modestbranding: 1,
            rel: 0,
            playsinline: 1,
            iv_load_policy: 3,
            fs: 0,
            disablekb: 1,
            start: start > 0 ? start : undefined,
            end: end > 0 ? end : undefined,
            mute: 1
          };
          Object.keys(playerVars).forEach(k => playerVars[k] === undefined && delete playerVars[k]);

          let loopTimer = null;
          const ensureLoop = (player) => {
            if(!(start > 0 && end > 0 && end > start)) return;
            if(loopTimer) window.clearInterval(loopTimer);
            loopTimer = window.setInterval(() => {
              try{
                const t = player.getCurrentTime();
                if(t >= end - 0.15) player.seekTo(start, true);
              }catch{ /* ignore */ }
            }, 250);
          };

          const player = new YT.Player(mount.id, {
            videoId,
            playerVars,
            events: {
              onReady: (ev) => {
                try{
                  ev.target.mute();
                  if(!reduce) ev.target.playVideo();
                }catch{ /* ignore */ }
              },
              onStateChange: (ev) => {
                if(ev.data === YT_STATE.PLAYING){
                  portal.classList.add('is-playing');
                  ensureLoop(ev.target);
                }
              }
            }
          });

          if(startBtn){
            startBtn.addEventListener('click', () => {
              try{ player.mute(); player.playVideo(); }catch{ /* ignore */ }
            });
          }

          if('IntersectionObserver' in window){
            const io = new IntersectionObserver((entries) => {
              entries.forEach((entry) => {
                if(entry.isIntersecting) return;
                try{ player.pauseVideo(); }catch{ /* ignore */ }
              });
            }, { threshold: 0.05 });
            io.observe(portal);
          }
        });
      };

      /* Actions */
      const initActions = () => {
        document.addEventListener('click', (e) => {
          const btn = e.target.closest('[data-action]');
          if(!btn) return;
          const action = btn.getAttribute('data-action');

          if(action === 'toggle-theme'){
            const current = root.getAttribute('data-theme') || 'dark';
            const next = current === 'dark' ? 'light' : 'dark';
            applyTheme(next);
            announce(next === 'dark' ? 'Tema scuro attivo' : 'Tema chiaro attivo');
            return;
          }

          if(action === 'set-language'){
            applyLanguage(btn.getAttribute('data-language') || 'it');
            return;
          }

          if(action === 'toggle-nav'){
            // Reserved for future mobile menu
            return;
          }
        });
      };

      const initYear = () => {
        const el = document.querySelector('[data-year]');
        if(el) el.textContent = String(new Date().getFullYear());
      };

      const init = () => {
        initTheme();
        initLanguage();
        initActions();
        initHeaderScroll();
        initScrollSpy();
        initReveals();
        initSmartMedia();
        initYear();
        initVideoPortals();
      };

      if(document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init, { once: true });
      else init();
    })();
  </script>
</body>
</html>
